---
name: "üåê Crowdin Check"

on:
  push:
    branches: [main]
    paths:
      - "docs/**"
      - "blog/**"
      - "community/**"
      - "ecosystem/**"
      - "src/pages/**"
  schedule:
    - cron: "0 */5 * * *"
  workflow_dispatch: {}

env:
  GITHUB_TOKEN: ${{ secrets.GH_PAT }}
  CROWDIN_PROJECT: ${{ secrets.CROWDIN_PROJECT }}
  CROWDIN_TOKEN: ${{ secrets.CROWDIN_TOKEN }}

jobs:
  download:
    runs-on: ubuntu-latest
    timeout-minutes: 30
    concurrency:
      group: ci-${{ github.workflow }}-${{ github.ref }}
      cancel-in-progress: true
    steps:
      - uses: hrabiel/check-crowdin-translation-progress@c20323f4b2331a24a7b4e7fdf27620e5c59851a4
        with:
          api-token: "${{ secrets.CROWDIN_TOKEN }}"
          organization-domain: "digitalclouds"
          project-id: "2"
          #branch-name: "feature.my-awesome-feature"
          languages: "zh-Hans,ja,ko,ru"
          target-progress: "10"
          check-approval: false
