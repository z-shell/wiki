---
id: synopsis
title: "ğŸ“¦ æ¦‚è¦"
sidebar_position: 1
image: /img/png/theme/z/320x320.png
description: ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ç´¹ä»‹
keywords:
  - package
  - zpackage
  - zsh-package
  - packages-overview
---

<!-- @format -->

ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹å‹•æ©Ÿ

1. Ziã¯æŸ”è»Ÿã§æ©Ÿèƒ½è±Šå¯Œãªãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã§ã™ãŒã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ãã®è¨­å®šã«åœ§å€’ã•ã‚Œã‚‹ã“ã¨ãŒå¤šã„ã‚ˆã†ã§ã™ã€‚

2. ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã«ä¼¼ãŸæ¬¡ã®ã‚ˆã†ãªæ©Ÿèƒ½ãŒè¤‡æ•°ã‚ã‚Šã¾ã™ã€‚

   - ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®Gitãƒªãƒã‚¸ãƒˆãƒªã¾ãŸã¯ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒªãƒªãƒ¼ã‚¹URLã‚’æŒ‡å®šã§ãã¾ã™ã€‚
   - ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«æ¨å¥¨ã•ã‚Œã‚‹ [iceä¿®é£¾å­][] ã®ãƒªã‚¹ãƒˆã‚’å–å¾—ã—ã¾ã™ã€‚
     - [ice-modifiers][]ã®ãƒªã‚¹ãƒˆãŒè¤‡æ•°å­˜åœ¨ã™ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚
     - iceä¿®é£¾å­ãƒªã‚¹ãƒˆã¯ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯å°‘ãªãã¨ã‚‚ 1 ã¤ã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚Šã¾ã™ã€‚
     - the [iceä¿®é£¾å­][] ã‚’é¸æŠçš„ã«ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
   - ãƒã‚¤ãƒŠãƒªã«å¯¾ã—ã¦ã„ã‚ã‚†ã‚‹ã‚·ãƒ ï¼ˆè»¢é€ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼‰ã‚’è‡ªå‹•çš„ã«æä¾›ã—ã¾ã™ã€‚
   - ãƒã‚¤ãƒŠãƒªã‚’å…¬é–‹ã™ã‚‹ãŸã‚ã« `$PATH` ã‚’ç·¨é›†ã—ã¾ã™ã€‚
   - `Makefile` ãªã©ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

3. ä¸€èˆ¬ã«ã€Ziã«ã¯é©šãã‚ˆã†ãªã“ã¨ã‚’å¯èƒ½ã«ã™ã‚‹ãƒ•ãƒƒã‚¯ãŒãŸãã•ã‚“ã‚ã‚Šã¾ã™ãŒã€ãã®å†…å®¹ã¯å¾ã€…ã«è‰¯ã„ã‚‚ã®ã«é€²åŒ–ã—ã¦ã„ãã“ã¨ãŒå¤šãã€ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ã™ã¹ã¦æŠŠæ¡ã™ã‚‹ã“ã¨ã¯å›°é›£ã§ã™ã€‚

:::info

[bin-gem-node][] åˆ¥é¤¨ã‚’æ¨å¥¨ã—ã¾ã™ã€‚ãã†ã§ãªã„å ´åˆã€ä¸€éƒ¨ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯æ©Ÿèƒ½ãŒä¸è¶³ã—ã¦ã„ã‚‹ãŸã‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã«å¤±æ•—ã—ã¾ã™ã€‚

:::

## [any-gem][] ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ [any-node][] ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

ã“ã‚Œã‚‰ã¯ã€æ–°ã—ãä½œæˆã•ã‚ŒãŸãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã€ä»»æ„ã®Gemï¼ˆè¤‡æ•°å¯ï¼‰ã‚„Nodeãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆè¤‡æ•°å¯ï¼‰ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã“ã¨ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚ ä¾‹:

```shell showLineNumbers
zi pack param='GEM -> rails' for any-gem
zi pack param='MOD -> doctoc' for any-node
```

If the installation is used in the `.zshrc` file then use `id-as'â€¦'`, then Zi knows that the package is already installed.

:::note

Zi ã®æ§‹æ–‡ã§ã¯ã€ä»¥ä¸‹ã®ä¾‹ã®ã‚ˆã†ã« Unicode çŸ¢å°ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

:::

```shell
zi id-as=jekyll pack param='GEM â†’ jekyll' for any-gem
```

ãƒã‚¤ãƒŠãƒªã¯ shims çµŒç”±ã§ PATH ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ãªãå…¬é–‹ã•ã‚Œã¾ã™ã€‚ `zi delete â€¦` ã§ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å‰Šé™¤ã™ã‚‹ã¨ã€shimsãŒæ­£ã—ãå‰Šé™¤ã•ã‚Œã¾ã™ã€‚å®Ÿæ…‹ã¨ã—ã¦ã¯ã€ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å«ã‚€ `package.json` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿æŒã™ã‚‹ GitHub ãƒªãƒã‚¸ãƒˆãƒªã§ã™ã€‚ ã“ã®æ–¹æ³•ã§ã¯ã€iceä¿®é£¾å­ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã›ã‚“ï¼ˆã‚‚ã¡ã‚ã‚“å¯èƒ½ã§ã™ï¼‰ã€‚ [iceä¿®é£¾å­][] ãƒªã‚¹ãƒˆã¯é•·ãã¦è¤‡é›‘ãªã®ã§ä¾¿åˆ©ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚

## å°å…¥ä¾‹

ã“ã‚Œã«ã‚ˆã‚Šã€ `fzf` ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã‚‹ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã®ä»£ã‚ã‚Šã«ã€æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```shell showLineNumbers
zi lucid as=program pick="$ZPFX/bin/(fzf|fzf-tmux)" \
  atclone="cp shell/completion.zsh _fzf_completion; \
    cp bin/(fzf|fzf-tmux) $ZPFX/bin" \
  make="PREFIX=$ZPFX install" for \
    junegunn/fzf
```

å¿…è¦ãªã‚‚ã®:

```shell
zi pack for fzf
```

to get the complete setup of the fuzzy finder, including:

- the completion
- the additional executable script `fzf-tmux`

The installation is like with package-manager because you don't need to invoke Zi anymore once installed to use `fzf` (that's because `fzf` is just a binary program and not e.g.: a shell function). You can also update the package with `zi update fzf` â€“ it'll cause the project to refresh and rebuild, like with a "normal" package manager such as `apt-get`. However, it'll be more like to `emerge` from Gentoo, because the installation will be from the sourceâ€¦ unlessâ€¦ the user will pick up a binary installation by profile argument specified in the `pack'â€¦'` ice.

## é€šå¸¸ã®ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã«Ziãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã®é•·æ‰€

é€šå¸¸ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã‚‹ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚’Ziã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã“ã¨ã«ã¯ã€ã„ãã¤ã‹ã®åˆ©ç‚¹ãŒã‚ã‚Šã¾ã™ã€‚

1. **é•·æ‰€:** Zi ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯é€šå¸¸ã€ãã®ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®_å…¬å¼ã‹ã¤æœ€æ–°ã®_ ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã® URL ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ (ä¾‹: [ecs-cli][] ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ã€Linux ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å ´åˆã€URL: `https://amazon-ecs-cli.s3.amazonaws.com/ecs-cli-linux-amd64-latest` ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚)

2. **é•·æ‰€:** Zi iceä¿®é£¾å­ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€ç°¡å˜ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã«ç·¨é›†ã‚’åŠ ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

   ```shell
   zi pack=bgn atclone="cp fzy.1 $ZI[MAN_DIR]/man1" for fzy
   ```

   to install also the man page for the `fzy` fuzzy finder (this omission in the package will be fixed soon).

3. **é•·æ‰€:** é€šå¸¸ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ã¨æ¯”è¼ƒã—ã¦ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒéå¸¸ã«æŸ”è»Ÿã§ã™ã€‚ ä½¿ç”¨å¯èƒ½ãªè‡ªç”±åº¦ã®ä¾‹:

   - to install from Git or release-tarball, or a binary-release file,
   - to install via shims or via extending `$PATH`, or by copying to `$ZPFX/bin`,
   - to download files and apply patches to the source by using the `patch-dl` annex features.

4. **Pro:** The installations are located in the user home directory, which doesn't require root access. Also, for Gems and Node modules, they are installed in their plugin directory, which can have advantages (e.g.: isolation allowing e.g: easy removal by `rm -rf â€¦`).

5. **Con:** You're somewhat "on your own", with no support from any package maintainer.

Thus, summing up 1. with 4., it might be nice/convenient too, for example, have the latest ECS CLI binary installed in the home directory, without using root access and always the latest, and â€“ summing up with 2. and 3. â€“ to, for example, have always the latest `README` downloaded by additional ice: `dl'https://raw.githubusercontent.com/aws/amazon-ecs-cli/master/README.md'` (and then to have the `README` converted into a man page by the `remark` Markdown processor or other via an `atclone''` ice, as the tool doesn't have any official man page).

## ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®è¿½åŠ 

1. Contact the author to have the repository at the [Z-Shell][z-shell] organization or set the [ZI\[PKG_OWNER\]][modify-settings].

2. Populate the `package.json` â€“ I suggest grabbing the one for `fzf` or `doctoc` and doing a few substitutions like [doctoc][] â†’ `your-project` and then simply filling the `default` profile in the `zi-ices` object â€“ it is same as passing ice-modifiers to `zi ice â€¦` but in JSON.

3. `package.json` ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã¯ã€ `zsh-` ã§é–‹å§‹ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ Zi ã§æŒ‡å®šã™ã‚‹å ´åˆã€ã“ã®ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã¯ã‚¹ã‚­ãƒƒãƒ—ã•ã‚Œã¾ã™ã€‚

4. ã‚³ãƒŸãƒƒãƒˆã—ã¦ãƒ—ãƒƒã‚·ãƒ¥ã™ã‚‹ã€‚

<!-- end-of-file -->
<!-- links -->



<!-- external -->

[bin-gem-node]: /ecosystem/annexes/bin-gem-node
[iceä¿®é£¾å­]: /docs/guides/syntax/ice-modifiers
[ice-modifiers]: /docs/guides/syntax/ice-modifiers
[modify-settings]: /docs/guides/customization#modify-settings

[any-gem]: https://github.com/z-shell/any-gem
[any-node]: https://github.com/z-shell/any-node
[ecs-cli]: https://github.com/z-shell/ecs-cli
[z-shell]: https://github.com/z-shell
[doctoc]: https://github.com/z-shell/doctoc
