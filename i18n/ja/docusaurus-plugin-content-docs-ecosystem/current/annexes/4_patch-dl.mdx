---
id: patch-dl
title: ğŸŒ€ Patch DL
image: /img/png/theme/z/320x320.png
description: åˆ¥é¤¨ - Patch DLã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
keywords:
  - annex
  - patch-dl
---

<!-- @format -->

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import Link from "@docusaurus/Link";
import ImgShow from "@site/src/components/ImgShow";

ã“ã®åˆ¥é¤¨ã§ã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã¨ãƒ‘ãƒƒãƒã®é©ç”¨ã‚’ã™ã‚‹ã€2ã¤ã®iceä¿®é£¾å­ã®è¿½åŠ ã‚’è¡Œã„ã¾ã™ã€‚

1ç•ªç›®

```shell
zi ice dl'{URL} [-> {optional-output-file-name}]; â€¦' â€¦
```

2ç•ªç›®

```shell
zi ice patch'{file-name-with-the-patch-to-apply}; â€¦' â€¦
```

The annex will download the given `{URL}` under the path `{optional-output-file-name}` (if no file name given, then it is taken from last segment of the URL) in case of the `dl'â€¦'` ice-modifier, and apply a patch given by the `{file-name-with-the-patch-to-apply}` in case of the `patch'â€¦'` ice-modifier. ã“ã®æ©Ÿèƒ½ã‚’åˆ©ç”¨ã—ã¦ã€ãƒ‘ãƒƒãƒã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚„é©ç”¨ã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚

For example, to install `fbterm`, two patches are being needed, one to fix the operation, the other one to fix the build:

```shell showLineNumbers
zi ice as"command" pick"$ZPFX/bin/fbterm" \
  dl"https://bugs.archlinux.org/task/46860?getfile=13513 -> ins.patch" \
  dl"https://aur.archlinux.org/cgit/aur.git/plain/0001-Fix-build-with-gcc-6.patch?h=fbterm-git" \
    patch"ins.patch; 0001-Fix-build-with-gcc-6.patch" \
      atclone"./configure --prefix=$ZPFX" \
      atpull"%atclone" make"install" reset
zi load izmntuk/fbterm
```

ã“ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

<ImgShow img='/img/png/content/annex/patch-dl/fbterm-ex.png' alt='fbterm' />

## Install patch-dl {#install-patch-dl}

:::info Source

- <Link className='github-link' href='https://github.com/z-shell/z-a-patch-dl'>
    z-shell/z-a-patch-dl
  </Link>

:::

<Tabs>
  <TabItem value="default" label="Default" default>

Add the following snippet in the `.zshrc` file:

```shell
zi light z-shell/z-a-patch-dl
```

</TabItem>
</Tabs>

This will register the `dl'â€¦'` and `patch'â€¦'` ice-modifiers.
